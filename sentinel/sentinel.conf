# monitoring set
sentinel monitor myprimary 127.0.0.1 1111 1

# assume master is down after being unresponsive for 20s
sentinel down-after-milliseconds myprimary 20000

# reconfigure one slave at a time
sentinel parallel-syncs myprimary 2

# wait for 4m before assuming failover went wrong
sentinel failover-timeout myprimary 240000

# a Redis instance, when acting as a master, will stop accepting writes if it can't write to at least 1 replica. If the two replicas are down, the master will stop accepting writes. It's a trade off.
min-replicas-to-write 1
min-replicas-max-lag 10
# Generated by CONFIG REWRITE
protected-mode no
port 6001
user default on nopass ~* &* +@all
dir "/Users/mortensi/workspace/redis-scripts/sentinel"
sentinel myid 3d0e3d9c3efdaf60d0a6cfaafbd858a27ac44192
sentinel config-epoch myprimary 0
sentinel leader-epoch myprimary 0
sentinel current-epoch 0
sentinel known-replica myprimary 127.0.0.1 2222
